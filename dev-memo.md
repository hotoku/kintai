## 時間の扱い

``` typescript
const x = new Date(1970, 0, 1, 0, 0, 0)
conosle.log(x)
// => 1969-12-31T15:00:00.000Z
```

- `new Date`では、ローカルのタイムゾーンでの時刻と解釈される
- 表示の際には、タイムゾーン付でUTCで表示される

## サーバーとクライアントでコードの共有

- モジュールの仕組みが違うせいか、コードの共有がうまくいかない
  - `client/src`以下にサーバーソース一式を置く
  - `client/src`以下に共有ソースをlinkする、など試したけど成功せず
- モジュールの仕組みについて理解が浅いので、シンプルにコードを2重管理する・・(泣)
- ざっくり調べた限りでは、そんなにドンピシャの情報が出てこないから、あんまりやらないことなのか・・・？

## 日付用のinputとオブジェクトの同期

日付をinputタグで入力させる際に、inputタグと連携させるオブジェクトがDate型だと、入力途中の中途半端な状態でパースエラーになる。

- 編集用オブジェクトはstring/number型で通す
  - どこでstring/dateの変換をするか・・
  - クライアント→サーバーに送る際には、どうせjsonになるので、ずっと文字列のままで良さそう
  - サーバー→クライアントも、クライアントに届いた瞬間は、文字列
  - クライアント側で、文字列ではなくて日付型として扱いたいときがあるか・・というと
    - 合計時間の計算などはクライアントでやった方が良さそうなので、あるっちゃある
  - とりあえず、クライアント側では、基本、文字列で扱う方針で考える
    - 値のバリデーションは、保存時にサーバー側で実行する
      - バリデーションに失敗した場合は、エラーを返す
- 代替案としては、input-date-timeなどを使うも考えられる
  - こっちの方が、入力動作は少なくて済みそう

## 更新用のeditorと新規追加用のeditor

更新用と新規追加用で、微妙に要件が異なる

- 更新用の場合には、最初から最低限の情報は入ったデータがある
- 追加の場合には、最悪、何もない場合がある
  - 「中途半端な状態」を、どこまで細かく考えるのが妥当なのか

- 更新用の場合には、保存時にはput
- 追加用の場合には、保存時にはpost

- 「編集中のオブジェクト」を以下の通りに作ることにすれば、入り口の動作は共通化できそう
  - 最初に更新が押されたときにはオリジナルから作る
  - 追加時にはデフォルト or 空のオブジェクトを作る

- 保存時の動作も、大した違いにはならなさそう

という辺りを踏まえて、Clientsを実装する
